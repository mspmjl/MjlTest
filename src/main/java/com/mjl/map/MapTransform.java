package com.mjl.map;

import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

/**
 * @author mjl
 * @date 2024/12/20.
 */
public class MapTransform {
    public static void main(String[] args) {


        String s = "114.71627146809978,38.01328041066081;114.71578636326569,38.01194337888608;114.71338277756551,38.00977924187473;114.70720135550997,38.00626192484994;114.7113223979245,38.00193412275082;114.71143343833499,38.00115413179568;114.71224893904123,37.995300496902416;114.7003301825601,37.993271253701536;114.69444826734899,37.99641050556844;114.67929622193107,37.99633891089104;114.67731818239817,37.99744866621676;114.67140016864066,38.00076821653781;114.6664502743012,38.00480224162807;114.66505032152219,38.005942306031514;114.66466438422735,38.00952737696106;114.66423440791493,38.010271416128205;114.65969262474358,38.01334687045836;114.6593156461463,38.01360291750241;114.65891066973947,38.01387697967344;114.65543390036746,38.016231497653656;114.65644785938375,38.01744435812551;114.65639189209591,38.01928439396369;114.65869776773516,38.01919306609033;114.65864380139374,38.02122908799441;114.66112669214554,38.02139278740926;114.66101772858332,38.023672819113386;114.66098673842127,38.024317832098916;114.66428062711803,38.02531953044164;114.66803251078875,38.02511337381556;114.6680095521577,38.02889537700321;114.66896352693493,38.02894536754531;114.67516140643268,38.02975264224123;114.67666539613757,38.030817784248136;114.67585242975832,38.034281670535684;114.67468645803473,38.03605556175757;114.67253150641253,38.03759341270892;114.67155153626253,38.03956735543293;114.67101455274735,38.04086033232485;114.6705695654022,38.04178632080701;114.67019557501409,38.04221031047997;114.67038057399364,38.04560929305375;114.67228653477002,38.045403342574275;114.67290152368074,38.045717364680634;114.6729215239456,38.04689635728343;114.67295652266026,38.04890733813066;114.67299251902973,38.05101232856007;114.67333051405892,38.051006345765565;114.6732475096948,38.05326632920846;114.67568946905084,38.05870046981594;114.67742546809721,38.05780364092235;114.6776204683472,38.05770266372677;114.67973247318292,38.052231958956874;114.685226551143,38.05033984096094;114.68659955248899,38.04249915095782;114.68750456457954,38.0382203463068;114.68762956695278,38.03763237878275;114.69916059293193,38.03629917904692;114.69930361317678,38.036282196418625;114.6998126867864,38.036220257022364;114.70032576342327,38.03615831612499;114.7082312394451,38.03520199553221;114.71303936401623,38.03601330507106;114.71439870447487,38.036464394177415;114.7151318915153,38.03670744529431;114.71530793675376,38.036765457954054;114.71956406106716,38.03817683714587;114.71956405599262,38.04088087004925;114.72074237509572,38.04308003469644;114.73087013997502,38.04239981708676;114.7310221941491,38.03919178968244;114.73103720061451,38.03872878705119;114.73125630653924,38.032158707206015;114.73227064534453,38.025468828408066;114.73212163204114,38.023010762649356;114.7320376250188,38.021628713332156;114.73200862263076,38.0211547035874;114.73192661632409,38.01978966692782;114.72809558299548,38.02001283803553;114.7226550861577,38.02032900701782;114.72224697893708,38.01998794900147;114.72199691332847,38.01977792061778;114.71716066288297,38.01573047564175;114.71627146809978,38.01328041066081";

        List<BasicLocation> list = new ArrayList<>();
        for (String s1 : s.split(";")) {
            String[] s2 = s1.split(",");
            BasicLocation from = new BasicLocation();
            from.setLongitude(Double.valueOf(s2[0]));
            from.setLatitude(Double.valueOf(s2[1]));
            BasicLocation fix = MapCoordinateConvertUtils.fix(from, MapTypeEnum.BMAP.getKey());
            list.add(fix);
        }
        String collect = list.stream().map(o -> o.getLongitudeDone() + "," + o.getLatitudeDone()).collect(Collectors.joining(";"));
        System.out.println(collect);
    }
}
