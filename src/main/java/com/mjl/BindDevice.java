package com.mjl;

import com.alibaba.fastjson.JSONObject;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpHeaders;
import org.springframework.http.MediaType;
import org.springframework.web.client.RestTemplate;

/**
 * @author MJL
 * @date 2022/10/27.
 */
public class BindDevice {
    public static void main(String[] args) {
        RestTemplate restTemplate = new RestTemplate();
        String codes = "JM3410867214050501609,JM3410867214050529972,JM3410867214050529261,JM3410867214050430635,JM3410867214050525129,JM3410867214051717071,JM3410867214050504215,JM3410867214050516169,JM3410867214050500759,JM3410867214050526572,JM3410867214050520021,JM3410867214051862166,JM3410867214051732088,JM3410867214050510709,JM3410867214050520294,JM3410867214050526606,JM3410867214050502581,JM3410867214050526689,JM3410867214050500718,JM3410867214050507606,JM3410867214050502375,JM3410867214050529600,JM3410867214050519619,JM3410867214050519064,JM3410867214050529964,JM3410867214051862091,JM3410867214051857992,JM3410867214050504249,JM3410867214050515492,JM3410867214050511020,JM3410867214050519668,JM3410867214050506228,JM3410867214051729266,JM3410867214051879574,JM3410867214050530202,JM3410867214051731239,JM3410867214051733227,JM3410867214050522167,JM3410867214050527034,JM3410867214050511103,JM3410867214050509453,JM3410867214051722964,JM3410867214050429322,JM3410867214051722956,JM3410867214051874831,JM3410867214050524916,GP3090867597018139103,JM3410867214050515500,JM3410867214050519494,JM3410867214050529436,JM3410867214051713724,JM3410867214050501237,JM3410867214051722980,JM3410867214050519023,JM3410867214050521581,JM3410867214051722436,JM3410867214051731882,JM3410867214051862265,JM3410867214050530699,JM3410867214051879319,JM3410867214050530400,JM3410867214050501567,JM3410867214050530020,JM3410867214050518561,JM3410867214050505188,JM3410867214050500932,JM3410867214051729076,JM3410867214050510055,JM3410867214050528834,JM3410867214050528982,JM3410867214051857604,JM3410867214050527422,JM3410867214050527414,JM3410867214050530517,JM3410867214050510428,JM3410867214050528230,JM3410867214050529071,JM3410867214050506657,JM3410867214050501716,JM3410867214051879541,JM3410867214050529998,JM3410867214050520278,JM3410867214051879749,JM3410867214050530574,JM3410867214051875283,JM3410867214050529683,JM3410867214050515336,JM3410867214050527901,JM3410867214050518025,JM3410867214050528032,JM3410867214051879251,JM3410867214050521789,JM3410867214050524387,JM3410867214050516284,JM3410867214051884723,JM3410867214050529535,JM3410867214050500981,JM3410867214051722626,JM3410867214050521136,JM3410867214051879293,JM3410867214051879269,JM3410867214050522191,JM3410867214050528453,JM3410867214050520328,JM3410867214051879285,JM3410867214050510949,JM3410867214051862026,JM3410867214050529717,JM3410867214050510048,JM3410867214050530483,JM3410867214051862182,JM3410867214050507671,JM3410867214050522290,JM3410867214051722923,JM3410867214050529493,JM3410867214050529014,JM3410867214050530004,JM3410867214050510782,JM3410867214050530384,JM3410867214051716966,JM3410867214050513521,JM3410867214050502219,JM3410867214051718277,JM3410867214051884616,JM3410867214050525202,JM3410867214050518017,JM3410867214050527885,JM3410867214050529345,JM3410867214050521151,JM3410867214051731759,JM3410867214050530582,JM3410867214050515542,JM3410867214051722832,JM3410867214050519981,JM3410867214050528040,JM3410867214050521862,JM3410867214051858263,JM3410867214050521888,JM3410867214051876638,JM3410867214051879582,JM3410867214050501062,JM3410867214050512184,JM3410867214051731247,JM3410867214051732302,JM3410867214050519601,JM3410867214050528016,JM3410867214050506541,JM3410867214051857893,JM3410867214051728318,JM3410867214050501146,JM3410867214051879525,JM3410867214050526812,JM3410867214050520187,JM3410867214051858511,JM3410867214051862604,JM3410867214050527349,JM3410867214050500957,JM3410867214050519338,JM3410867214051732195,JM3410867214051857810,JM3410867214050526424,JM3410867214050506947,JM3410867214051879962,JM3410867214050429181,JM3410867214050510857,JM3410867214050527406,JM3410867214051879210,JM3410867214050506616,JM3410867214050500791,JM3410867214050520096,JM3410867214051733557,JM3410867214050509842,JM3410867214051862018,JM3410867214050430627,JM3410867214050528339,JM3410867214051858503,JM3410867214050520310,JM3410867214051728383,JM3410867214050429439,JM3410867214050529006,JM3410867214051879855,JM3410867214051723012,JM3410867214050527778,JM3410867214050520401,JM3410867214051729175,JM3410867214051717162,JM3410867214050520534,JM3410867214050527075,JM3410867214050529634,JM3410867214050500882,JM3410867214050509750,JM3410867214050510758,JM3410867214050530475,JM3410867214050529691,JM3410867214050522217,JM3410867214050524411,JM3410867214050506087,JM3410867214050510956,JM3410867214050530434,JM3410867214051858016,JM3410867214050501070,JM3410867214050504090,JM3410867214050429330,JM3410867214051717857,JM3410867214050528149,JM3410867214050527687,JM3410867214051717881,JM3410867214050509545,JM3410867214050502268,JM3410867214050506202,JM3410867214050530046,JM3410867214050519221,JM3410867214051723046,JM3410867214050430619,JM3410867214050504124,JM3410867214051723053,JM3410867214051714532,JM3410867214050519858,JM3410867214050520948,JM3410867214050519106,JM3410867214050500916,JM3410867214050519718,JM3410867214051722618,JM3410867214050530194,JM3410867214051728268,JM3410867214050525665,JM3410867214050518702,JM3410867214051731908,JM3410867214050501336,JM3410867214050511434,JM3410867214050518975,JM3410867214050516987,JM3410867214050529980,JM3410867214050506442,JM3410867214050522282,JM3410867214050510873,JM3410867214051716800,JM3410867214050512713,JM3410867214050530533,JM3410867214050522332,JM3410867214050524338,JM3410867214050523876,JM3410867214050519551,JM3410867214050522274,JM3410867214050510881,JM3410867214050501187,JM3410867214051879236,JM3410867214050529279,JM3410867214050530426,JM3410867214050529881,JM3410867214050519171,JM3410867214051879202,JM3410867214050510840,JM3410867214050519460,JM3410867214050521912,JM3410867214050530186,JM3410867214050502177,JM3410867214050527992,JM3410867214050521821,JM3410867214050520062,JM3410867214050510931,JM3410867214050526986,JM3410867214051718533,JM3410867214050519429,JM3410867214050530269,JM3410867214050508760,JM3410867214050502367,JM3410867214051731817,JM3410867214050527307,JM3410867214050520351,JM3410867214050523371,JM3410867214051875374,JM3410867214050513026,JM3410867214050529105,JM3410867214050518769,JM3410867214050506269,JM3410867214051862174,JM3410867214050518918,JM3410867214050501401,JM3410867214050530160,JM3410867214050526440,JM3410867214050507853,JM3410867214050506764,JM3410867214050529048,JM3410867214051871050,JM3410867214050521144,JM3410867214051884632,JM3410867214051722949,JM3410867214050510774,JM3410867214050520286,JM3410867214050519437,JM3410867214051731825,JM3410867214050529915,JM3410867214050504744,JM3410867214050520526,JM3410867214050519585,JM3410867214050520260,JM3410867214051879566,JM3410867214050527935,JM3410867214050505964,JM3410867214051860020,JM3410867214050506608,JM3410867214051718228,JM3410867214051717659,JM3410867214051731841,JM3410867214051719564,JM3410867214050528529,JM3410867214050510865,JM3410867214050517191,JM3410867214050530079,JM3410867214051718624,JM3410867214050529949,JM3410867214051716867,JM3410867214050524239,JM3410867214050509024,JM3410867214050527299,JM3410867214050519239,JM3410867214050522050,JM3410867214050528214,JM3410867214051858081,JM3410867214051876984,JM3410867214050511053,JM3410867214050530418,JM3410867214050527067,JM3410867214050520732,JM3410867214051879509,JM3410867214050509826,JM3410867214051879913,JM3410867214050505717,JM3410867214051729019,JM3410867214050529733,JM3410867214050529774,JM3410867214050502607,JM3410867214050519346,JM3410867214051724960,JM3410867214050505360,JM3410867214050521813,JM3410867214050530657,JM3410867214051731262,JM3410867214050530624,JM3410867214050530665,JM3410867214050509438,JM3410867214050502862,JM3410867214050511012,JM3410867214051879673,JM3410867214051722444,JM3410867214050502482,JM3410867214050506046,JM3410867214051406501,JM3410867214051857877,JM3410867214050511061,JM3410867214050521847,JM3410867214050522241,JM3410867214050519965,JM3410867214051717147,JM3410867214050520054,JM3410867214050526119,JM3410867214050509552,JM3410867214051874997,JM3410867214050519155,JM3410867214050528081,JM3410867214050500924,JM3410867214050521177,JM3410867214050522324,JM3410867214050529055,JM3410867214050501278,JM3410867214050518579,JM3410867214050530491,JM3410867214050527968,JM3410867214050510741,JM3410867214051402310,JM3410867214051722428,JM3410867214050504140,JM3410867214050502425,JM3410867214050530277,JM3410867214051858214,JM3410867214050516342,JM3410867214051879780,JM3410867214050528057,JM3410867214050510832,JM3410867214050527703,JM3410867214050530319,JM3410867214050520179,JM3410867214051732286,JM3410867214050529618,JM3410867214050522126,JM3410867214051722659,JM3410867214050503316,JM3410867214051879863,JM3410867214050527869,JM3410867214050530285,JM3410867214050503084,JM3410867214050502227,JM3410867214050519973,JM3410867214051722402,JM3410867214050530111,JM3410867214050510808,JM3410867214050530251,JM3410867214050501815,JM3410867214050530442,JM3410867214050502474,JM3410867214050529659,JM3410867214050514966,JM3410867214050529857,JM3410867214050519726,JM3410867214051858743,JM3410867214050430544,JM3410867214050529626,JM3410867214050515484,JM3410867214050508638,JM3410867214050511152,JM3410867214050507663,JM3410867214050514040,JM3410867214050510824,JM3410867214050502334,JM3410867214050519882,JM3410867214050509610,JM3410867214050506467,JM3410867214050501906,JM3410867214050506590,JM3410867214051729563,JM3410867214050505972,JM3410867214050518942,JM3410867214050530350,JM3410867214050520344,JM3410867214050527448,JM3410867214050521433,JM3410867214050526978,JM3410867214050508794,JM3410867214050502748,JM3410867214050520500,JM3410867214050515476,JM3410867214051723160,JM3410867214050520518,JM3410867214051408150,JM3410867214051717105,JM3410867214051722782,JM3410867214051728649,JM3410867214050530145,JM3410867214050515716,JM3410867214050517571,JM3410867214051858131,JM3410867214050522225,JM3410867214050517662,JM3410867214050504157,JM3410867214050519536,JM3410867214050501245,JM3410867214050528206,JM3410867214050530558,JM3410867214050506665,JM3410867214050530376,JM3410867214051861846,JM3410867214050509263,JM3410867214050527943,JM3410867214050520112,JM3410867214051884731,JM3410867214050521854,JM3410867214050530368";

        for (String s : codes.split(",")) {
            bind(s, restTemplate);
        }
    }

    static void bind(String code, RestTemplate restTemplate) {
        String ownerId = "88620aebb61242beb78a383d399b0c72";
        JSONObject param = new JSONObject();
        param.put("ownerId", ownerId);
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.valueOf("application/json;UTF-8"));
        param.put("deviceIdList", new String[]{code});
        HttpEntity<String> strEntity = new HttpEntity<>(param.toJSONString(), headers);
        String rst = restTemplate.postForObject("http://api.envcloud.com.cn:9012/dms/bindDeviceList", strEntity, String.class);
        JSONObject object = JSONObject.parseObject(rst);
        System.out.println(object);
    }
}
